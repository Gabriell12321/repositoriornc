<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Layout - Dashboard IPPEL</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            color: #333;
        }
        
        .main-container {
            display: flex;
            height: 100vh;
            min-height: 100vh;
        }
        
        .left-section {
            flex: 1;
            padding: 20px;
            background: white;
            overflow-y: auto;
            overflow-x: hidden;
            min-width: 0;
        }
        
        .right-section {
            width: 300px;
            min-width: 300px;
            background: #f8f9fa;
            border-left: 1px solid #dee2e6;
            padding: 20px;
            overflow-y: auto;
        }
        
        .header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            min-width: 0;
        }
        
        .logo img {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            object-fit: contain;
            background: transparent;
            padding: 0;
            border: none;
            flex-shrink: 0;
        }
        
        .logo h1 {
            color: #007bff;
            font-size: 24px;
            font-weight: 700;
            position: relative;
            white-space: nowrap;
        }
        
        .user-info {
            margin-left: auto;
            text-align: right;
            min-width: 0;
        }
        
        .user-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        
        .user-dept {
            color: #666;
            font-size: 14px;
        }
        
        .rnc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            width: 100%;
            min-width: 0;
        }
        
        .rnc-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            border-left: 4px solid #28a745;
            overflow: visible;
            min-width: 0;
            word-wrap: break-word;
        }
        
        .rnc-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #007bff, #0056b3);
        }
        
        .rnc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
        }
        
        .card-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 15px;
            min-width: 0;
        }
        
        .profile-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #007bff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .card-info {
            flex: 1;
            min-width: 0;
            overflow: hidden;
        }
        
        .card-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .card-dept {
            font-size: 14px;
            color: #666;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .card-assigned {
            color: #007bff;
            font-size: 11px;
            margin-top: 2px;
            font-weight: 500;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .card-actions {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: flex-end;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: 0;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
        }
        
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .card-status {
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            padding: 3px 6px;
            border-radius: 12px;
            color: white;
            flex-shrink: 0;
        }
        
        .status-pendente {
            background: #ffc107;
            color: #333;
        }
        
        .status-concluído {
            background: #28a745;
        }
        
        .status-finalizado {
            background: #28a745;
        }
        
        .card-details {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e9ecef;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 13px;
            min-width: 0;
        }
        
        .detail-label {
            color: #666;
            font-weight: 500;
            flex-shrink: 0;
        }
        
        .detail-value {
            color: #333;
            font-weight: 600;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            min-width: 0;
        }
        
        .priority-badge {
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            white-space: nowrap;
        }
        
        .priority-baixa {
            background: #e9ecef;
            color: #6c757d;
        }
        
        .priority-média {
            background: #fff3cd;
            color: #856404;
        }
        
        .priority-alta {
            background: #f8d7da;
            color: #721c24;
        }
        
        .priority-crítica {
            background: #dc3545;
            color: white;
        }
        
        .right-header {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
        }
        
        .stats-section {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .stat-label {
            color: #666;
        }
        
        .stat-value {
            font-weight: 600;
            color: #333;
        }
        
        /* Responsividade */
        @media (max-width: 1200px) {
            .rnc-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
                height: auto;
            }
            
            .left-section {
                order: 1;
                padding: 15px;
            }
            
            .right-section {
                order: 2;
                width: 100%;
                min-width: 100%;
                border-left: none;
                border-top: 1px solid #dee2e6;
            }
            
            .rnc-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .user-info {
                margin-left: 0;
                text-align: left;
            }
            
            .card-actions {
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .rnc-card {
                padding: 15px;
            }
            
            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .card-actions {
                flex-direction: column;
            }
            
            .action-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="left-section">
            <div class="header">
                <div class="logo">
                    <div style="width: 60px; height: 60px; background: #007bff; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">🏭</div>
                    <h1>IPPEL RNC</h1>
                </div>
                <div class="user-info">
                    <div class="user-name">Usuário Teste</div>
                    <div class="user-dept">Administrador</div>
                </div>
            </div>
            
            <div class="rnc-grid" id="rncGrid">
                <!-- Cards de teste serão inseridos aqui -->
            </div>
        </div>
        
        <div class="right-section">
            <div class="right-header">📊 Estatísticas</div>
            <div class="stats-section">
                <div class="stat-item">
                    <span class="stat-label">Total de RNCs:</span>
                    <span class="stat-value">5</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Pendentes:</span>
                    <span class="stat-value">2</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Concluídos:</span>
                    <span class="stat-value">3</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dados de teste
        const testRNCs = [
            {
                id: 1,
                title: 'Teste de RNC com título muito longo que pode causar problemas de layout',
                rnc_number: 'RNC-2025-07-29-174310',
                user_name: 'Usuário Teste',
                assigned_user_name: 'Inspetor Responsável',
                status: 'Pendente',
                priority: 'Alta',
                equipment: 'Equipamento de Teste Muito Longo',
                client: 'Cliente Teste com Nome Muito Longo',
                created_at: '2025-07-29',
                is_creator: true
            },
            {
                id: 2,
                title: 'RNC Normal',
                rnc_number: 'RNC-2025-07-29-174311',
                user_name: 'Usuário 2',
                status: 'Concluído',
                priority: 'Média',
                equipment: 'Equipamento 2',
                client: 'Cliente 2',
                created_at: '2025-07-28',
                is_creator: false
            },
            {
                id: 3,
                title: 'RNC Crítico',
                rnc_number: 'RNC-2025-07-29-174312',
                user_name: 'Usuário 3',
                status: 'Finalizado',
                priority: 'Crítica',
                equipment: 'Equipamento 3',
                client: 'Cliente 3',
                created_at: '2025-07-27',
                is_creator: true
            },
            {
                id: 4,
                title: 'RNC Simples',
                rnc_number: 'RNC-2025-07-29-174313',
                user_name: 'Usuário 4',
                status: 'Pendente',
                priority: 'Baixa',
                created_at: '2025-07-26',
                is_creator: false
            },
            {
                id: 5,
                title: 'RNC Completo',
                rnc_number: 'RNC-2025-07-29-174314',
                user_name: 'Usuário 5',
                assigned_user_name: 'Inspetor Especializado',
                status: 'Concluído',
                priority: 'Alta',
                equipment: 'Equipamento Especializado',
                client: 'Cliente VIP',
                created_at: '2025-07-25',
                is_creator: true
            }
        ];

        // Função para exibir RNCs
        function displayRNCs(rncs) {
            const container = document.getElementById('rncGrid');
            
            container.innerHTML = rncs.map(rnc => `
                <div class="rnc-card ${rnc.status.toLowerCase()}" onclick="viewRNC(${rnc.id})">
                    <div class="card-header">
                        <div class="profile-icon">📋</div>
                        <div class="card-info">
                            <div class="card-name" title="${rnc.title}">${rnc.title}</div>
                            <div class="card-dept" title="${rnc.user_name || 'Usuário'}">👤 ${rnc.user_name || 'Usuário'}</div>
                            ${rnc.assigned_user_name ? `<div class="card-assigned" title="${rnc.assigned_user_name}">🎯 Atribuído: ${rnc.assigned_user_name}</div>` : ''}
                        </div>
                        <div class="card-status status-${rnc.status.toLowerCase()}">${rnc.status}</div>
                    </div>
                    <div class="card-details">
                        <div class="detail-row">
                            <span class="detail-label">📄 RNC:</span>
                            <span class="detail-value" title="${rnc.rnc_number}">${rnc.rnc_number}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">⚡ Prioridade:</span>
                            <span class="detail-value">
                                <span class="priority-badge priority-${rnc.priority.toLowerCase()}">${rnc.priority}</span>
                            </span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">📅 Criado:</span>
                            <span class="detail-value">${new Date(rnc.created_at).toLocaleDateString('pt-BR')}</span>
                        </div>
                        ${rnc.equipment ? `
                        <div class="detail-row">
                            <span class="detail-label">🔧 Equipamento:</span>
                            <span class="detail-value" title="${rnc.equipment}">${rnc.equipment}</span>
                        </div>
                        ` : ''}
                        ${rnc.client ? `
                        <div class="detail-row">
                            <span class="detail-label">🏢 Cliente:</span>
                            <span class="detail-value" title="${rnc.client}">${rnc.client}</span>
                        </div>
                        ` : ''}
                    </div>
                    <div class="card-actions">
                        <button onclick="event.stopPropagation(); viewRNC(${rnc.id})" class="action-btn btn-primary" title="Ver Detalhes">
                            👁️ Ver
                        </button>
                        <button onclick="event.stopPropagation(); openChat(${rnc.id})" class="action-btn btn-info" title="Chat">
                            💬 Chat
                        </button>
                        <button onclick="event.stopPropagation(); editRNC(${rnc.id})" class="action-btn btn-secondary" title="Editar">
                            ✏️ Editar
                        </button>
                        ${rnc.is_creator ? `
                            <button onclick="event.stopPropagation(); finalizeRNC(${rnc.id})" class="action-btn btn-success" title="Finalizar">
                                ✅ Finalizar
                            </button>
                            <button onclick="event.stopPropagation(); deleteRNC(${rnc.id})" class="action-btn btn-danger" title="Deletar">
                                🗑️ Deletar
                            </button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        // Funções de teste
        function viewRNC(id) {
            alert(`Visualizando RNC ${id}`);
        }

        function openChat(id) {
            alert(`Abrindo chat do RNC ${id}`);
        }

        function editRNC(id) {
            alert(`Editando RNC ${id}`);
        }

        function finalizeRNC(id) {
            alert(`Finalizando RNC ${id}`);
        }

        function deleteRNC(id) {
            alert(`Deletando RNC ${id}`);
        }

        // Inicializar
        displayRNCs(testRNCs);
    </script>
</body>
</html> 